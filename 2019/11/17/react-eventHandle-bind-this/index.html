<!DOCTYPE html>
<html lang="en">
  <head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">

<meta name="theme-color" content="#f8f5ec">
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="react-eventHandle-bind(this)"><meta name="keywords" content="react, zzz"><link rel="alternate" href="/atom.xml" title="zzz">
<link rel="canonical" href="http://yoursite.com/2019/11/17/react-eventHandle-bind-this/">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=">

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":"","toc":"","fancybox":"","pjax":"","latex":""};
</script>

    <title>react-eventHandle-bind(this) - zzz</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">zzz</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">zzz</a>
</div>

<nav class="site-navbar"></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">react-eventHandle-bind(this)
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-11-17
        </span></div>
    </header>

    <div class="post-content"><h1 id="ä¸ºä»€ä¹ˆreactç±»ç»„ä»¶ä¸­ä¸ºéœ€äº‹ä»¶ç»‘å®šthis"><a href="#ä¸ºä»€ä¹ˆreactç±»ç»„ä»¶ä¸­ä¸ºéœ€äº‹ä»¶ç»‘å®šthis" class="headerlink" title="ä¸ºä»€ä¹ˆreactç±»ç»„ä»¶ä¸­ä¸ºéœ€äº‹ä»¶ç»‘å®šthis"></a>ä¸ºä»€ä¹ˆreactç±»ç»„ä»¶ä¸­ä¸ºéœ€äº‹ä»¶ç»‘å®šthis</h1><p>æ—¥å¸¸å†™react ï¼Œä¸å¯é¿å…ä¼šé‡åˆ°ä¸€äº›å—æ§ç»„ä»¶å’Œäº‹ä»¶çš„å¤„ç†ã€‚æˆ‘ä»¬å¿…é¡»åœ¨è‡ªå®šä¹‰ç»„ä»¶çš„æ„é€ å‡½æ•°ä¸­ å°†è¿™äº›æ–¹æ³• å’Œ ç»„ä»¶å®ä¾‹ ç”¨ .bind()  æ–¹æ³•ç»‘å®šã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ‰¾å‡ºæ„¿æ„</p>
<p>å…ˆå›é¡¾ä¸€ä¸‹ .bind() æ–¹æ³•</p>
<blockquote>
<p><em>bind()</em>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨<em>bind()</em>è¢«è°ƒç”¨æ—¶ï¼Œè¿™ä¸ªæ–°å‡½æ•°çš„thisè¢«bindçš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šï¼Œå…¶ä½™çš„å‚æ•°å°†ä½œä¸ºæ–°å‡½æ•°çš„å‚æ•°ä¾›è°ƒç”¨æ—¶ä½¿ç”¨ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è¯´ bind æ–¹æ³• å¯ä»¥æ”¹å˜ å‡½æ•°ä¸­çš„ this æŒ‡å‘</p>
<h3 id="æ˜¯-JS-çš„é”…ï¼Œ-react-ä¸èƒŒ"><a href="#æ˜¯-JS-çš„é”…ï¼Œ-react-ä¸èƒŒ" class="headerlink" title="æ˜¯ JS çš„é”…ï¼Œ react ä¸èƒŒ"></a>æ˜¯ JS çš„é”…ï¼Œ react ä¸èƒŒ</h3><p>èƒŒé”… å°±ä¸¥é‡äº† ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚ç”¨äº†JSX æˆ–æ˜¯ react æ¡†æ¶ï¼Œå¼€å‘è€…è²Œä¼¼åªéœ€è¦è€ƒè™‘æå°‘çš„äº‹æƒ…ï¼Œè¿™éƒ½æ˜¯ ::this::çš„åŠŸåŠ³ï¼ ï¼ˆåŸæ–‡ä½œè€…å†™åˆ°è¿™é‡Œ æˆ‘å¹¶æ²¡æœ‰è¯»æ‡‚ä»–çœŸçš„æƒ³è¯´ä»€ä¹ˆï¼Œè¿™ä¹ˆä¼šç»•åœˆå­çš„å—ã€‚ã€‚ï¼‰</p>
<p>å…ˆçœ‹çœ‹ å¦‚æœæˆ‘ä»¬åœ¨ ç»„ä»¶å®ä¾‹ä¸­ä¸ç»‘å®šå¤„ç†äº‹ä»¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Foo extends React.Component&#123;</span><br><span class="line">  constructor( props )&#123;</span><br><span class="line">    super( props );</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  handleClick(event)&#123;</span><br><span class="line">    console.log(this); // â€˜thisâ€™ is undefined</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  render()&#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;button type=â€œbuttonâ€ onClick=&#123;this.handleClick&#125;&gt;</span><br><span class="line">        Click Me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Foo /&gt;,</span><br><span class="line">  document.getElementById(â€œappâ€)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè¿™æ®µä»£ç  ç‚¹å‡»å äº‹ä»¶å¤„ç†å‡½æ•° console å‡ºæ¥çš„ this æ˜¯ undefinedï¼Œ<code>handleClick</code> æ–¹æ³• çœ‹ä¼¼å¤±å»äº† <code>context</code> æ‰§è¡Œç¯å¢ƒ</p>
<p>æœ¬ç¯‡æ–‡ç« ä¸ä¼šè¯¦è¿° this ï¼Œæ¨è YOU DONT KNOW JAVASCRIPT. ç³»åˆ—ï¼Œæœ‰ä¸€ç« éå¸¸ç¿”å®çš„è®²è¿°äº† thisï¼Œå†™å¾—çœŸçš„éå¸¸å¥½ï¼ˆåŸä½œè€…è™½ç„¶è¯´æœ¬æ–‡ä¸ä¼šå«Œè´µè®²thisï¼Œä½†ä¸‹é¢çš„ä¸€äº›åˆ—å­ éƒ½æ˜¯ ğŸ‘†æåˆ°é‚£æœ¬ä¹¦ä¸­çš„å†…å®¹ï¼‰<br>åŸºäºæœ¬æ–‡çš„è®¨è®ºå†…å®¹ï¼Œç®€å•æ¦‚æ‹¬ï¼Œå‡½æ•°å†…çš„<code>this</code>åªä¾èµ–ä¸å‡½æ•°çš„è°ƒç”¨æ–¹æ³•</p>
<h2 id="é»˜è®¤-binding"><a href="#é»˜è®¤-binding" class="headerlink" title="é»˜è®¤ binding"></a>é»˜è®¤ binding</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function display() &#123;</span><br><span class="line">	console.log(this) // this ä¼š æŒ‡å‘ window æˆ– gobal å¯¹è±¡</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dispaly();</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘å…¨å±€ä½œç”¨åŸŸçš„windowï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯è¿™æ ·çš„ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code> æ˜¯ undefined</p>
<h2 id="éšå¼-binding"><a href="#éšå¼-binding" class="headerlink" title="éšå¼ binding"></a>éšå¼ binding</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">	name: â€˜Annyâ€™,</span><br><span class="line">	display: function() &#123;</span><br><span class="line">	  console.log(this.name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.display() // Anny</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ æˆ‘ä»¬ä»¥ä¸€ä¸ª obj å¯¹è±¡ æ¥è°ƒç”¨å‡½æ•°ï¼Œ<code>this</code>æŒ‡å‘å‡½æ•°å†…éƒ¨</p>
<p>ä½†å½“æˆ‘ä»¬å°†è¿™ä¸ªå‡½æ•°å¼•ç”¨èµ‹å€¼ç»™å…¶ä»–å˜é‡å¹¶ä½¿ç”¨è¿™ä¸ªæ–°çš„å‡½æ•°å»è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬åœ¨ <code>display()</code> ä¸­ è·å¾—ä¸ç”¨çš„ <code>this</code>å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let name = â€˜uh oh! globalâ€™</span><br><span class="line">let outerDisplay = obj.display</span><br><span class="line">outerDisplay() // uh oh! global</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œè°ƒç”¨ <code>outerDisplay</code>å‡½æ•°æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šä¸€ä¸ªå…·ä½“çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰€æœ‰è€…å¯¹è±¡çš„çº¯å‡½æ•°è°ƒç”¨ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>display</code>å†…éƒ¨çš„<code>this</code>å€¼å›é€€åˆ°<em>é»˜è®¤ç»‘å®š</em>ï¼Œæ‰€ä»¥è¿™ä¸ªthis æ˜¯æŒ‡å‘å…¨å±€çš„ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰</p>
<p>åœ¨å°†è¿™äº›å‡½æ•°ä»¥å›è°ƒå‡½æ•°çš„å½¢å¼ä¼ é€’ç»™ è‡ªå®šä¹‰å‡½æ•°ï¼Œç¬¬ä¸‰æ–¹å‡½æ•°æˆ– åƒ<code>setTimeout</code>è¿™æ ·çš„å†…å»ºå‡½æ•°ï¼Œä¸Šé¢çš„åˆ¤æ–­å°±æ˜¾å¾—å¾ˆæœ‰æ„ä¹‰</p>
<p>æ€è€ƒä¸‹é¢çš„ è‡ªå®šä¹‰å‡½æ•° <code>setTimeout</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function setTimeout(callback, delay) &#123;</span><br><span class="line">	callback()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setTimeout(obj.display, 1000)</span><br></pre></td></tr></table></figure>

<p>æ˜¾è€Œæ˜“è§ï¼Œå½“è°ƒç”¨ <code>setTimeout</code>å‡½æ•°æ—¶ï¼ŒJS å¼•æ“å†…éƒ¨å°† obj.display èµ‹å€¼ç»™ calbackï¼Œ<code>callback = obj.display</code>ï¼Œ è¿™ä¸ªèµ‹å€¼æ“ä½œé€ æˆäº† displayæ–¹æ³• å¼„ä¸¢äº†å®ƒçš„ä¸Šä¸‹æ–‡ï¼Œæœ€ç»ˆ settimeout å‡½æ•°æ‰§è¡Œåï¼Œthis ä¼šæŒ‡å‘å…¨å±€ä½œç”¨åŸŸ</p>
<h2 id="æ˜¾ç¤º-binding"><a href="#æ˜¾ç¤º-binding" class="headerlink" title="æ˜¾ç¤º binding"></a>æ˜¾ç¤º binding</h2><p>ä¸ºé¿å…ä¸Šè¿°å°´å°¬åœºé¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>bind</code>æ–¹æ³•æ˜¾ç¤ºçš„ å°† <code>this</code>ä¸ æ–¹æ³•ç»‘å®š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let name = â€˜uh oh! globalâ€™</span><br><span class="line">obj.display = obj.display.bind(obj)</span><br><span class="line">const outerDisplay = obj.display</span><br><span class="line">outerDisplay() // Anny</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«çš„è°ƒç”¨ <code>this</code>æŒ‡å‘obj å†…éƒ¨çš„<code>display</code>æ–¹æ³•å’¯</p>
<p>å³ä½¿æˆ‘ä»¬å°† <code>obj.display</code>å½“ä½œå›è°ƒå‡½æ•°ï¼Œ<code>this</code>å€¼ æ¯…ç„¶å†³ç„¶çš„è¿˜æ˜¯æŒ‡å‘ <code>obj</code>å†…éƒ¨çš„ <code>display</code>æ–¹æ³•</p>
<h2 id="åªç”¨Javascript-é‡ç°ä¸‹-æ–‡ç« æœ€å¼€å§‹çš„åœºæ™¯"><a href="#åªç”¨Javascript-é‡ç°ä¸‹-æ–‡ç« æœ€å¼€å§‹çš„åœºæ™¯" class="headerlink" title="åªç”¨Javascript é‡ç°ä¸‹ æ–‡ç« æœ€å¼€å§‹çš„åœºæ™¯"></a>åªç”¨Javascript é‡ç°ä¸‹ æ–‡ç« æœ€å¼€å§‹çš„åœºæ™¯</h2><p>æ–‡ç« å¼€å¤´ï¼Œæˆ‘ä»¬çœ‹åˆ°æ˜¯ react ç»„ä»¶ è°ƒç”¨çš„ <code>Foo</code>ï¼Œå¦‚æœä¸å°† äº‹ä»¶ ä¸ <code>this</code>ç»‘å®šï¼Œå†…éƒ¨çš„äº‹ä»¶å‡½æ•°å°±æ˜¯ <code>undefined</code></p>
<p>å°±åƒä¹‹å‰ä¸€ç›´åœ¨å¼ºè°ƒçš„ï¼Œä¸ react æ¡†æ¶çš„è¿è¡Œæ–¹å¼æ— å…³ï¼Œåªæ˜¯å› ä¸º<code>this</code>ç»‘å®šåœ¨ javascript ä¸­çš„ è¿è¡Œæ–¹å¼ã€‚è¿™æ¬¡ æˆ‘ä»¬ç§»é™¤æ‰reactæ¡†æ¶çš„å½±å“ï¼Œæ„å»ºä¸€ä¸ªç›¸ä¼¼çš„ çº¯ JS çš„ä¾‹å­æ¥æ¨¡ä»¿ä¸Šé¢çš„ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">	constructor(name) &#123;</span><br><span class="line">		this.name = name</span><br><span class="line">	&#125;</span><br><span class="line">	display()&#123;</span><br><span class="line">		console.log(this.name)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let foo = new Foo(â€˜Ericâ€™)</span><br><span class="line">foo.display() // Eroc</span><br><span class="line"></span><br><span class="line">// ä¸‹é¢è¿™ä¸ªèµ‹å€¼æ“ä½œæ˜¯æ¨¡æ‹Ÿ react ç»„ä»¶ä¸­å°†äº‹ä»¶ä½œä¸º callback ä¼ é€’æ—¶å¤±å» `context` çš„è¡Œä¸º</span><br><span class="line">let display = foo.display</span><br><span class="line">display() // TypeError: this is undefined</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸æ˜¯æ¨¡æ‹Ÿå®é™…çš„äº‹ä»¶å’Œå¤„ç†ç¨‹åºï¼Œè€Œæ˜¯ç”¨åŒä¹‰ä»£ç æ›¿ä»£ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ React ç»„ä»¶ç¤ºä¾‹ä¸­æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼Œç”±äºå°†å¤„ç†ç¨‹åºä½œä¸ºå›è°ƒä¼ é€’åï¼Œä¸¢å¤±äº†ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´ this å€¼å˜æˆ undefinedã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨è¿™ä¸ªçº¯ JavaScript ä»£ç ç‰‡æ®µä¸­è§‚å¯Ÿåˆ°çš„ã€‚</p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œç­‰ä¸€ä¸‹ï¼éš¾é“ this çš„å€¼ä¸æ˜¯åº”è¯¥æŒ‡å‘å…¨å±€å¯¹è±¡ä¹ˆï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯æŒ‰ç…§é»˜è®¤ç»‘å®šçš„è§„åˆ™ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œçš„å®ƒã€‚â€œ</p>
<p><em>ç­”æ¡ˆæ˜¯å¦å®šçš„</em> åŸå› å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>/ç±»å£°æ˜/å’Œ/ç±»è¡¨è¾¾å¼/çš„ä¸»ä½“ä»¥  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" target="_blank" rel="noopener">ä¸¥æ ¼æ¨¡å¼</a>  æ‰§è¡Œï¼Œä¸»è¦åŒ…æ‹¬æ„é€ å‡½æ•°ã€é™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•ã€‚Getter å’Œ setter å‡½æ•°ä¹Ÿåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œã€‚</p>
</blockquote>
<p>æ‰€ä»¥ä¸ºäº†é¿å…é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦åƒä¸‹æ–‡è¿™æ ·ç»‘å®š this çš„å€¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">  constructor(name)&#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.display = this.display.bind(this);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  display()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var foo = new Foo(â€˜Saurabhâ€™);</span><br><span class="line">foo.display(); // Saurabh</span><br><span class="line"></span><br><span class="line">var display = foo.display;</span><br><span class="line">display(); // Saurabh</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¸ä»…å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–ä½ç½®æ‰§è¡Œæ­¤æ“ä½œã€‚è€ƒè™‘è¿™ä¸ªï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Foo &#123;</span><br><span class="line">  constructor(name)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  display()&#123;</span><br><span class="line">    console.log(this.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var foo = new Foo(â€˜Saurabhâ€™);</span><br><span class="line">foo.display = foo.display.bind(foo);</span><br><span class="line">foo.display(); // Saurabh</span><br><span class="line"></span><br><span class="line">var display = foo.display;</span><br><span class="line">display(); // Saurabh</span><br></pre></td></tr></table></figure>

<p>ä½†ç”±äºæ„é€ å‡½æ•°æ˜¯æ‰€æœ‰åˆå§‹åŒ–å‘ç”Ÿçš„åœ°æ–¹ï¼Œå› æ­¤å®ƒæ˜¯ç¼–å†™ç»‘å®šäº‹ä»¶è¯­å¥æœ€ä½³çš„ä½ç½®ã€‚</p>
<p><em>ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸éœ€è¦ä¸ºç®­å¤´å‡½æ•°ç»‘å®š<strong>â€˜thisâ€™</strong>ï¼Ÿ</em></p>
<p>åœ¨ React ç»„ä»¶å†…ï¼Œæˆ‘ä»¬æœ‰å¦å¤–ä¸¤ç§å®šä¹‰äº‹ä»¶å¤„ç†ç¨‹åºçš„æ–¹å¼ã€‚</p>
<ul>
<li><p><a href="https://babeljs.io/docs/plugins/transform-class-properties/" target="_blank" rel="noopener">å…¬å…±ç±»å­—æ®µè¯­æ³•(å®éªŒ)</a> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Foo extends React.Component&#123;</span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    console.log(this); </span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  render()&#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;button type=â€œbuttonâ€ onClick=&#123;this.handleClick&#125;&gt;</span><br><span class="line">        Click Me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Foo /&gt;,</span><br><span class="line">  document.getElementById(â€œappâ€)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">å›è°ƒä¸­çš„ç®­å¤´å‡½æ•°</a> </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Foo extends React.Component&#123;</span><br><span class="line"> handleClick(event)&#123;</span><br><span class="line">    console.log(this);</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  render()&#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;button type=&quot;button&quot; onClick=&#123;(e) =&gt; this.handleClick(e)&#125;&gt;</span><br><span class="line">        Click Me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Foo /&gt;,</span><br><span class="line">  document.getElementById(â€œappâ€)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªéƒ½ä½¿ç”¨äº†ES6å¼•å…¥çš„ç®­å¤´å‡½æ•°ã€‚å½“ä½¿ç”¨è¿™äº›æ›¿ä»£æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬çš„äº‹ä»¶å¤„ç†ç¨‹åºå·²ç»è‡ªåŠ¨ç»‘å®šåˆ°äº†ç»„ä»¶å®ä¾‹ä¸Šï¼Œå¹¶ä¸”æˆ‘ä»¬ä¸éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®šå®ƒã€‚<br>åŸå› æ˜¯åœ¨ç®­å¤´å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œthis æ˜¯æœ‰<em>è¯æ³•</em>çº¦æŸåŠ›çš„ã€‚è¿™æ„å‘³å®ƒå¯ä»¥ä½¿ç”¨å°é—­çš„å‡½æ•°ä¸Šä¸‹æ–‡æˆ–è€…å…¨å±€ä¸Šä¸‹æ–‡ä½œä¸º this çš„å€¼ã€‚</p>
<p>åœ¨å…¬å…±ç±»å­—æ®µè¯­æ³•çš„ä¾‹å­ä¸­ï¼Œç®­å¤´å‡½æ•°è¢«åŒ…å«åœ¨ Foo ç±»ä¸­æˆ–è€…æ„é€ å‡½æ•°ä¸­ï¼Œæ‰€ä»¥å®ƒçš„ä¸Šä¸‹æ–‡å°±æ˜¯ç»„ä»¶å®ä¾‹ï¼Œè€Œè¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>åœ¨ç®­å¤´å‡½æ•°ä½œä¸ºå›è°ƒçš„ä¾‹å­ä¸­ï¼Œç®­å¤´å‡½æ•°è¢«åŒ…å«åœ¨ render() æ–¹æ³•ä¸­ï¼Œè¯¥æ–¹æ³•ç”± React åœ¨ç»„ä»¶å®ä¾‹çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¹Ÿå¯ä»¥æ•è·ç›¸åŒçš„ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”å…¶ä¸­çš„ this å€¼å°†æ­£ç¡®çš„æŒ‡å‘ç»„ä»¶å®ä¾‹ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ React çš„ç±»ç»„ä»¶ä¸­ï¼Œå½“æˆ‘ä»¬æŠŠäº‹ä»¶å¤„ç†å‡½æ•°å¼•ç”¨ä½œä¸ºå›è°ƒä¼ é€’è¿‡å»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=&quot;button&quot; onClick=&#123;this.handleClick&#125;&gt;Click Me&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>äº‹ä»¶å¤„ç†ç¨‹åºæ–¹æ³•ä¼šä¸¢å¤±å…¶<em>éšå¼ç»‘å®š</em>çš„ä¸Šä¸‹æ–‡ã€‚å½“äº‹ä»¶è¢«è§¦å‘å¹¶ä¸”å¤„ç†ç¨‹åºè¢«è°ƒç”¨æ—¶ï¼Œthisçš„å€¼ä¼šå›é€€åˆ°<em>é»˜è®¤ç»‘å®š</em>ï¼Œå³å€¼ä¸º undefinedï¼Œè¿™æ˜¯å› ä¸ºç±»å£°æ˜å’ŒåŸå‹æ–¹æ³•æ˜¯ä»¥ä¸¥æ ¼æ¨¡å¼è¿è¡Œã€‚</p>
<p>å½“æˆ‘ä»¬å°†äº‹ä»¶å¤„ç†ç¨‹åºçš„ this ç»‘å®šåˆ°æ„é€ å‡½æ•°ä¸­çš„ç»„ä»¶å®ä¾‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä½œä¸ºå›è°ƒä¼ é€’ï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¼šä¸¢å¤±å®ƒçš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>ç®­å¤´å‡½æ•°å¯ä»¥å…é™¤è¿™ç§è¡Œä¸ºï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„æ˜¯<em>è¯æ³•</em> this <em>ç»‘å®š</em>ï¼Œä¼šå°†å…¶è‡ªåŠ¨ç»‘å®šåˆ°å®šä¹‰ä»–ä»¬çš„å‡½æ•°ä¸Šä¸‹æ–‡ã€‚</p>

      </div>
      
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/react/">react</a>
            </div>
        
        <nav class="post-nav"><a class="next" href="/2019/10/22/DLL-DllPlugin/">
        <span class="next-text nav-default">DLL && DllPlugin</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2019<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">zzz</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v="></script>
</body>
</html>
